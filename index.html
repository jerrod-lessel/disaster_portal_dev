<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Risk GeoNavigator</title>

  <!-- Leaflet Core -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Leaflet-Geoman -->
  <link rel="stylesheet" href="https://unpkg.com/@geoman-io/leaflet-geoman-free@latest/dist/leaflet-geoman.css" />
  <script src="https://unpkg.com/@geoman-io/leaflet-geoman-free@latest/dist/leaflet-geoman.min.js"></script>

  <!-- Esri Leaflet -->
  <script src="https://unpkg.com/esri-leaflet/dist/esri-leaflet.js"></script>

  <!-- Turf.js -->
  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>

  <!-- Load GeoRaster and GeoRasterLayer -->
  <script src="https://unpkg.com/georaster"></script>
  <script src="https://unpkg.com/georaster-layer-for-leaflet"></script>

  <!-- Proj4 (in case needed) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.8.0/proj4.js"></script>

  <!-- Meta Viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Style -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Top Banner -->
<div id="top-banner">
  <div id="left-banner">
    <img id="site-logo" src="logo.png" alt="Site Logo">
    <div id="titles">
      <span id="main-title">Risk GeoNavigator - California</span>
      <span id="subtitle">Explore hazards, health, and resilience across California</span>
    </div>
  </div>
  <button id="about-toggle">About</button>
</div>
  
<div id="about-panel" class="hidden">
  <h3>About Risk GeoNavigator</h3>
  <p>
    Welcome to Risk GeoNavigator! Your tool for exploring hazard, health, and resilience data across California. 
    This interactive map lets you see environmental conditions and community risks in your area or anywhere in the state. 
    Use the layers and controls to learn more and make informed decisions.
  </p>
    <p>
    The data behind this map comes from trusted sources, including CAL FIRE, the California Office of Environmental Health Hazard Assessment (OEHHA), the California Geological Survey, the U.S. Geological Survey (USGS), and FEMA.
  </p>
  <p>
    Risk GeoNavigator was created by Jerrod Lessel, a geospatial analyst at Caltrans who lives on California‚Äôs Central Coast. This project aims to help Californians better understand the risks and strengths of their communities.
  </p>
</div>
  
  <!-- Main Container -->
  <div id="container">
    <!-- Sidebar -->
    <div id="sidebar">
      <div id="loading-spinner" class="hidden">
      <div class="spinner"></div>
      </div>
      <h2>Location Report</h2>
      <div id="report-content">
        <em>Click on the map to load data.</em>
      </div>
    </div>

    <!-- Map -->
    <div id="map"></div>
  </div> <!-- ‚úÖ Correctly closed container -->

  <!-- Legend Toggle Button -->
  <div class="map-widget leaflet-control leaflet-bar">
    <a href="#" id="legend-toggle" title="Toggle Legend">üó∫Ô∏è</a>
  </div>

  <!-- Legend Box -->
  <div id="legend-box" class="hidden">
    <h3>Fire Hazard Legend</h3>
    <div><i style="background:#d7191c;"></i> Very High</div>
    <div><i style="background:#fdae61;"></i> High</div>
    <div><i style="background:#ffffbf;"></i> Moderate</div>
  </div>

  <!-- Main JS -->
  <script src="map.js"></script>
</body>
</html>
